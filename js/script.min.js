const feedbackButton = document.querySelector(".contact-info__button"), feedbackPopup = document.querySelector(".feedback"), feedbackClose = feedbackPopup.querySelector(".feedback__close"), page = document.querySelector(".page__body"), feedbackName = feedbackPopup.querySelector(".feedback__input--name"), feedbackEmail = feedbackPopup.querySelector(".feedback__input--email"), feedbackMessage = feedbackPopup.querySelector(".feedback__message"), feedbackForm = feedbackPopup.querySelector(".feedback__form"); let isStorageSupport = !0; const nameStorage = "", emailStorage = ""; try { nameStorage = localStorage.getItem("name") } catch (e) { isStorageSupport = !1 } try { emailStorage = localStorage.getItem("email") } catch (e) { isStorageSupport = !1 } feedbackButton.addEventListener("click", function (e) { e.preventDefault(), feedbackPopup.classList.add("modal--show"), page.classList.add("page__body--overlay"), nameStorage && emailStorage ? (feedbackName.value = nameStorage, feedbackEmail.value = emailStorage, feedbackMessage.focus()) : feedbackName.focus() }), feedbackClose.addEventListener("click", function (e) { e.preventDefault(), feedbackPopup.classList.remove("modal--show"), feedbackPopup.classList.remove("modal--error"), page.classList.remove("page__body--overlay") }), feedbackForm.addEventListener("submit", function (e) { feedbackName.value && feedbackEmail.value && feedbackMessage.value ? isStorageSupport && (localStorage.setItem("name", feedbackName.value), localStorage.setItem("email", feedbackEmail.value)) : (e.preventDefault(), feedbackPopup.classList.remove("modal--error"), feedbackPopup.offsetWidth = feedbackPopup.offsetWidth, feedbackPopup.classList.add("modal--error")) }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && feedbackPopup.classList.contains("modal--show") && (e.preventDefault(), feedbackPopup.classList.remove("modal--show"), feedbackPopup.classList.remove("modal--error"), page.classList.remove("page__body--overlay")) }); const sliderItems = document.querySelectorAll(".slider__item"), sliderButtons = document.querySelectorAll(".slider__button"); function init() { var e = new ymaps.Map(document.querySelector(".contact-info__map"), { center: [59.939342, 30.329353], zoom: 16 }), t = new ymaps.Placemark([59.938635, 30.323118], {}, { iconLayout: "default#image", iconImageHref: "./img/pin.svg", iconImageSize: [80, 140], iconImageOffset: [-40, -140] }); e.geoObjects.add(t) } sliderButtons[0].addEventListener("click", function (e) { e.preventDefault(), page.classList.remove("page__body--grey"), page.classList.remove("page__body--brown"), page.classList.add("page__body--green"), sliderItems[0].classList.add("slider__item--current"), sliderItems[1].classList.remove("slider__item--current"), sliderItems[2].classList.remove("slider__item--current"), sliderButtons[0].classList.add("slider__button--current"), sliderButtons[1].classList.remove("slider__button--current"), sliderButtons[2].classList.remove("slider__button--current") }), sliderButtons[1].addEventListener("click", function (e) { e.preventDefault(), page.classList.remove("page__body--green"), page.classList.remove("page__body--brown"), page.classList.add("page__body--grey"), sliderItems[1].classList.add("slider__item--current"), sliderItems[0].classList.remove("slider__item--current"), sliderItems[2].classList.remove("slider__item--current"), sliderButtons[1].classList.add("slider__button--current"), sliderButtons[0].classList.remove("slider__button--current"), sliderButtons[2].classList.remove("slider__button--current") }), sliderButtons[2].addEventListener("click", function (e) { e.preventDefault(), page.classList.remove("page__body--green"), page.classList.remove("page__body--grey"), page.classList.add("page__body--brown"), sliderItems[2].classList.add("slider__item--current"), sliderItems[0].classList.remove("slider__item--current"), sliderItems[1].classList.remove("slider__item--current"), sliderButtons[2].classList.add("slider__button--current"), sliderButtons[0].classList.remove("slider__button--current"), sliderButtons[1].classList.remove("slider__button--current") }), ymaps.ready(init);